"use strict";var v=require("@rollup/pluginutils"),S=require("path"),$=(e={})=>{var c,p,f;e.transform||(e.transform=n=>n);const i={},x=(c=e.alwaysOutput)!=null?c:!1,y=v.createFilter((p=e.include)!=null?p:["**/*.css"],(f=e.exclude)!=null?f:[]),d=(n,t,s=new Set)=>{if(s.has(n))return[];s.add(n);const r=[n];return t(n).importedIds.forEach(a=>{r.push(...d(a,t,s))}),r};return{name:"import-css",transform(n,t){var s;if(!y(t))return;const r=e.minify?b(e.transform(n)):e.transform(n);(!i[t]||i[t]!=r)&&(i[t]=r);const a=this.getModuleInfo(t);return e.modules||((s=a.assertions)==null?void 0:s.type)=="css"?{code:`const sheet = new CSSStyleSheet();sheet.replaceSync(${JSON.stringify(r)});export default sheet;`,map:{mappings:""}}:{code:`export default ${JSON.stringify(r)};`,map:{mappings:""}}},generateBundle(n,t){var s,r;let a={},u=null;for(let l in t)a=Object.assign(a,t[l].modules),u||(u=t[l].facadeModuleId);const m=d(u,this.getModuleInfo),g=Object.entries(i).sort((l,o)=>m.indexOf(l[0])-m.indexOf(o[0])).map(([l,o])=>{if(!a[l])return o}).join(`
`);if(g.trim().length<=0&&!x)return;const h=(r=e.output)!=null?r:(s=n.file)!=null?s:"bundle.js",O=S.basename(h,S.extname(h));this.emitFile({type:"asset",fileName:`${O}.css`,source:g})}}};function b(e){return e=e.replace(/\/\*(?:(?!\*\/)[\s\S])*\*\/|[\r\n\t]+/g,""),e=e.replace(/ {2,}/g," "),e=e.replace(/ ([{:}]) /g,"$1"),e=e.replace(/([{:}]) /g,"$1"),e=e.replace(/([;,]) /g,"$1"),e=e.replace(/ !/g,"!"),e}module.exports=$;
